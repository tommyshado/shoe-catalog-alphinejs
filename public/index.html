<!DOCTYPE html>
<html lang="en">
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Document</title>

      <!-- cdn script tags -->
      <script src="//unpkg.com/alpinejs" defer></script>
      <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
      <script src="https://cdn.tailwindcss.com"></script>
      
    </head> 
    
    <body x-data="catalog">
      
      <!-- navbar section -->
      <nav>
        <h1><strong>Shesha store</strong></h1>
        <a x-show="!loggedIn" href="login.html">Login</a>
        <a x-show="!loggedIn" href="signup.html">Signup</a>
        <button x-show="loggedIn" @click="logout()">
          logout
        </button>
      </nav>
  
      <!-- message section -->
      <div class="payment flex justify-center items-center"></div>

      <div class="main flex justify-center items-center">
        <div class="cart justify-center items-center grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-x-8">          
          <!-- shopping cart section -->
          <div x-show="total > 0">

            <table class="table-auto">
              <tr>
                <th>Brand</th>
                <th>Increase</th>
                <th>Decrease</th>
                <th>Quantity</th>
                <th>Total</th>
                <th>Remove</th>
              </tr>
              
              <template x-for="shoe in cart">
                <tr>
                    <td x-text="shoe.shoe_name"></td>
                    <td>
                        <button @click="addShoeToCart(shoe.shoe_id)">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="30"
                            height="30"
                            fill="currentColor"
                            class="bi bi-plus-lg fill-[#DB814D]"
                            viewBox="0 0 16 16"
                          >
                            <path
                              fill-rule="evenodd"
                              d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"
                            />
                          </svg>
                        </button>
                    </td>
                    <td>
                        <button @click="decrementShoeQty(shoe.shoe_id)">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="30"
                            height="30"
                            fill="currentColor"
                            class="bi bi-dash fill-[#DB814D]"
                            viewBox="0 0 16 16"
                          >
                            <path
                              d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"
                            />
                          </svg>
                        </button>
                    </td>
                    <td x-text="shoe.quantity"></td>
                    <td x-text="'R' + ' ' + shoe.total"></td>
                    <td>
                      <button @click="removeShoeFromCart(shoe.shoe_id)" type="submit">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                          <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
                        </svg>
                      </button>
                    </td>
                  </tr>
              </template>
            </table>
    
            <!-- cart total -->
            <strong><span>Total </span></strong><label x-text="'R ' + total"></label><span></span>
      
            <!-- payment section -->
            <div>
              <strong><span>Payment here: </span></strong><input x-model="cartPay" name="payment" type="number">
              <strong>
                <button class="bg-[#ffa470] hover:bg-[#DB814D] w-1/4 rounded-full" type="submit" @click="paymentForCart()">
                  pay
                </button>
              </strong>
            </div>
          </div>
        </div>

        <!-- creating a shoe section -->
        <div x-show="createShoe && total === 0">
          <div>
            <label for="shoeName">
              <strong>
                Add a shoe to the catalog
              </strong>
            </label>
      
            <div>
              <div class="py-2">
                <label for="shoeName">Name of the shoe</label>
                <div>
                  <input
                    x-model="shoe.shoeName"
                    class="focus:bg-white rounded-md border-2"
                    name="shoeName"
                    type="text"
                    placeholder="enter shoe name"
                    required
                  />
                </div>
              </div>
      
              <div class="py-2">
                <label for="description">Shoe description</label>
                <div>
                  <input
                    x-model="shoe.description"
                    class="focus:bg-white rounded-md border-2"
                    name="description"
                    type="text"
                    placeholder="enter image description"
                    required
                  />
                </div>
              </div>
      
              <div class="py-2">
                <label for="ageGroup">Catagory</label>
                <div>
                  <input
                    x-model="shoe.ageGroup"
                    class="focus:bg-white rounded-md border-2"
                    name="ageGroup"
                    type="text"
                    placeholder="enter men, women or kid"
                    required
                  />
                </div>
              </div>
      
              <div class="py-2">
                <label for="image">Shoe image</label>
                <div>
                  <input
                    x-model="shoe.image"
                    class="focus:bg-white rounded-md border-2"
                    name="image"
                    type="text"
                    placeholder="enter image url"
                    required
                  />
                </div>
              </div>
      
              <div class="py-2">
                <label for="qty">Shoe quantity</label>
                <div>
                  <input
                    x-model="shoe.qty"
                    class="focus:bg-white rounded-md border-2"
                    name="qty"
                    type="number"
                    placeholder="enter number of stock"
                    required
                  />
                </div>
              </div>
      
              <div class="py-2">
                <label for="shoePrice">Price of the shoe</label>
                <div>
                  <input
                  x-model="shoe.shoePrice"
                    class="focus:bg-white rounded-md border-2"
                    name="shoePrice"
                    type="number"
                    placeholder="enter a shoe price"
                    required
                  />
                </div>
              </div>
      
              <div class="py-2">
                <label for="shoeColor">Color of the shoe</label>
                <div>
                  <input
                    x-model="shoe.shoeColor"
                    class="focus:bg-white rounded-md border-2"
                    name="shoeColor"
                    type="text"
                    placeholder="enter a shoe color"
                    required
                  />
                </div>
              </div>
      
              <div class="py-2">
                <label for="shoeSize">Size of the shoe</label>
                <div>
                  <input
                    x-model="shoe.shoeSize"
                    class="focus:bg-white rounded-md border-2"
                    name="shoeSize"
                    type="number"
                    placeholder="enter a shoe size"
                    required
                  />
                </div>
              </div>
            </div>
          </div>
      
          <div>
            <button class="bg-[#ffa470] hover:bg-[#DB814D] w-1/2 rounded-full" @click="showShoe()" type="submit">
              <strong>
                Add shoe
              </strong>
            </button>
          </div>
        </div>
      </div>

      <!-- shoes section -->
      <div class="shoe justify-center items-center grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
        <template x-for="shoe in shoes">
            <ul class="card w-full max-w-sm rounded-md overflow-hidden shadow-lg m-1 content-center">
              <li><img x-bind:src="shoe.image" alt="shoe" srcset=""></li>
              <strong><li x-text="'Brand: ' + shoe.shoe_name"></li></strong>
              <strong><li x-text="'Description: ' + shoe.description"></li></strong>
              <li x-text="'Quantity: ' + shoe.shoe_qty"></li>
              <li x-text="'R ' + shoe.shoe_price"></li>
              <li><button class="bg-[#ffa470] hover:bg-[#DB814D] w-1/4 rounded-full" @click="addShoeToCart(shoe.shoe_id)"><strong>Quick Add+</strong></button></li>
            </ul>
          </template>
      </div>

    </body>

    <!-- script tags -->
    <script src="../JavaScript/shoeCatalog.js"></script>
</html>
